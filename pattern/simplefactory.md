# 简单工厂(Simple Factory)

简单工厂并不属于GoF23个经典设计模式，但通常将它作为学习其他工厂模式的基础
一个工厂类，它可以根据参数的不同返回不同类的实例，被创建的实例通常都具有共同的父类。因为在简单工厂模式中用于创建实例的方法是静态方法
因此简单工厂模式又被称为静态工厂方法(Static Factory Method)模式，属于类创建型模式

普通的工厂方法模式通常伴随着对象的具体类型与工厂具体的类型的一一对应，客户端代码根据需要选择合适具体类型工厂使用。然而，这种选择可能包含复杂的逻辑。这时，可以创建一个单一的工厂类，
以包含这种逻辑选择，根据参数的不同选择实现不同的具体对象

```java
public class ImageReaderFactory {
    public static ImageReader imageReaderFactoryMethod(InputStream is) {
        ImageReader product = null;

        int imageType = determineImageType(is);
        switch (imageType) {
            case ImageReaderFactory.GIF:
                product = new GifReader(is);
            case ImageReaderFactory.JPEG:
                product = new JpegReader(is);
            //...
        }
        return product;
    }
}
```

## 简单工厂总结

简单工厂模式提供了专门的工厂类用于创建对象，将对象的创建和对象的使用分离开

### 简单工厂优点

* 工厂类抱哈必要的判断逻辑，可以决定在什么时候创建哪一个产品类的实例，客户端可以免除直接创建产品对象的职责，实现创建和使用的分离
* 客户端无须知道所创建的具体产品类的类名，只需要知道具体产品类所对应的参数即可
* 通过引入配置文件，可以在不修改任何客户端的情况下更换和增加新的具体产品类，在一定成效上提高了系统的灵活性

### 简单工厂缺点

* 由于工厂类集中了所有产品的创建逻辑，职责过重
* 使用简单工厂模式势必增加类的个数（引入新的工厂类），增加系统复杂度和理解难度
* 系统扩展困难，一旦添加新产品就得改工厂逻辑，不利于系统扩展和维护
* 简单工厂由于使用静态结构，造成工厂角色无法形成与继承的等级结构

### 简单工厂使用场景

* 工厂类负责创建的对象比较少，不会造成工厂方法中的业务逻辑太过复杂
* 客户端只知道工厂类的参数，对于创建对象不关心
