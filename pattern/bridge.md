# Bridge(æ¡¥æ¥æ¨¡å¼)

æ¡¥æ¥æ¨¡å¼æ˜¯ä¸€ç§å¾ˆå®ç”¨çš„ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå¦‚æœè½¯ä»¶ç³»ç»Ÿä¸­æŸä¸ªç±»å­˜åœ¨ä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦ï¼Œé€šè¿‡è¯¥æ¨¡å¼å¯ä»¥å°†ä¸¤ä¸ªç»´åº¦åˆ†ç¦»å‡ºæ¥ï¼Œä½¿ä¸¤è€…å¯ä»¥ç‹¬ç«‹æ‰©å±•ï¼Œè®©ç³»ç»Ÿæ›´åŠ ç¬¦åˆâ€œå•ä¸€èŒè´£åŸåˆ™â€ã€‚ä¸å¤šå±‚ç»§æ‰¿æ–¹æ¡ˆä¸åŒï¼Œå®ƒå°†ä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦è®¾è®¡ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„ç»§æ‰¿ç»“æ„ï¼Œå¹¶ä¸”åœ¨æŠ½è±¡å±‚å»ºç«‹ä¸€ä¸ªæŠ½è±¡å…³è”ï¼Œè¯¥å…³è”å…³ç³»ç±»ä¼¼ä¸€æ¡è¿æ¥ä¸¤ä¸ªç‹¬ç«‹ç»§æ‰¿ç»“æ„çš„æ¡¥ï¼Œæ•…åæ¡¥æ¥æ¨¡å¼ã€‚

æ¡¥æ¥æ¨¡å¼ç”¨ä¸€ç§å·§å¦™çš„æ–¹å¼å¤„ç†å¤šå±‚ç»§æ‰¿å­˜åœ¨çš„é—®é¢˜ï¼Œç”¨æŠ½è±¡å…³è”å–ä»£äº†ä¼ ç»Ÿçš„å¤šå±‚ç»§æ‰¿ï¼Œå°†ç±»ä¹‹é—´çš„é™æ€ç»§æ‰¿å…³ç³»è½¬æ¢ä¸ºåŠ¨æ€çš„å¯¹è±¡ç»„åˆå…³ç³»

* Abstractionï¼ˆæŠ½è±¡ç±»ï¼‰ï¼šç”¨äºå®šä¹‰æŠ½è±¡ç±»çš„æ¥å£ï¼Œå®šä¹‰äº†ä¸€ä¸ªImplementor(å®ç°ç±»æ¥å£)ç±»å‹çš„å¯¹è±¡å¹¶å¯ä»¥ç»´æŠ¤è¯¥å¯¹è±¡ï¼Œå®ƒä¸Implementorä¹‹é—´å…·æœ‰å…³è”å…³ç³»ï¼Œå®ƒå³å¯ä»¥åŒ…å«æŠ½è±¡ä¸šåŠ¡æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åŒ…å«å…·ä½“ä¸šåŠ¡æ–¹æ³•

    ```java
    public interface Weapon {
        void wield();

        void swing();

        void unwield();

        Enchantment getEnchantment();
    }
    ```

* RefinedAbstractionï¼ˆæ‰©å……æŠ½è±¡ç±»ï¼‰ï¼šæ‰©å……ç”±äºAbstractionå®šä¹‰çš„æ¥å£ï¼Œé€šå¸¸æƒ…å†µä¸‹å®ƒä¸å†æ˜¯æŠ½è±¡ç±»è€Œæ˜¯å…·ä½“ç±»ï¼Œå®ƒå®ç°äº†æŠ½è±¡ç±»å£°æ˜çš„æŠ½è±¡ä¸šåŠ¡æ–¹æ³•

    ```java
    public class Sword implements Weapon {
        private final Enchantment enchantment;

        public Sword(Enchantment enchantment) {
            this.enchantment = enchantment;
        }

        @Override
        public void wield() {
            log.i("å’–å–±æ£’");
            enchantment.onActivate();
        }

        @Override
        public void swing() {
            log.i("é‚£ä¹ˆå¤šè·¯äºº")
            enchantment.apply();
        }

        @Override
        public void unwield() {
            log.i("ç”²");
            enchantment.onDeactivate();
        }

        @Override
        public Enchantment getEnchantment() {
            return enchantment;
        }
    }
    ```

    ```java
    public class Hammer implements Weapon {

        private static Enchantment enchantment;

        public Hammer(Enchantment enchaantment) {
            this.enchantment = enchantment;
        }

        @Override
        public void wield() {
            log.i("æ˜Ÿæ˜Ÿ")
            enchantment.onActivate();
        }

        @Override
        public void swing() {
            enchantment.apply();
        }

        @Override
        public void unwield() {
            enchantment.onDeactivate();
        }

        @Override
        public void unwield() {
            enchantment.onDeactivate();
        }

        @Override
        public Enchantment getEnchantment() {
            return enchantment;
        }
    }
    ```

* Implementorï¼ˆå®ç°ç±»æ¥å£ï¼‰ï¼šè¿™ä¸ªæ¥å£ä¸ä¸€å®šè¦ä¸Abstractionçš„æ¥å£å®Œå…¨ä¸€è‡´ï¼Œå®é™…ä¸Šå¯ä»¥å®Œå…¨ä¸åŒï¼Œä¸€èˆ¬è€Œè¨€ï¼ŒImplementoræ¥å£ä»…æä¾›åŸºæœ¬æ“ä½œï¼Œè€ŒAbstractionå®šä¹‰çš„æ¥å£å¯èƒ½åšæ›´å¤šå¤æ‚çš„äº‹ã€‚Abstractionä¸­ä¸ä»…æ‹¥æœ‰è‡ªå·±çš„æ–¹æ³•ï¼Œè¿˜å¯ä»¥è°ƒç”¨åˆ°Implementorä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œä½¿ç”¨å…³è”å…³ç³»æ¥æ›¿ä»£ç»§æ‰¿å…³ç³»

    ```java
    public interface Enchantment {
        void onActivate();

        void apply();

        void onDeactivate();
    }
    ```

* ConcreteImplementorï¼ˆå…·ä½“å®ç°ç±»ï¼‰ï¼šå…·ä½“å®ç°Implementoræ¥å£ï¼Œåœ¨ä¸åŒçš„ConcreteImplementorä¸­æä¾›åŸºæœ¬æ“ä½œçš„ä¸åŒå®ç°ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼ŒConcreteImplementorå°†æ›¿æ¢å…¶çˆ¶ç±»å¯¹è±¡ï¼Œæä¾›ç»™æŠ½è±¡ç±»å…·ä½“çš„ä¸šåŠ¡æ“ä½œæ–¹æ³•

    ```java
    public class FlyingEnchantment implements Enchantment {
        public void onActiviate() {
            log.i("ğŸ¶");
        }

        public void apply() {
            log.i("fly apply");
        }

        public void onDeactivate() {
            log.i("fly ondeactivate");
        }
    }
    ```

    ```java
    public class SoulEatingEnchantment implements Enchantment {
        public void onActivate() {
            log.i("soul activate");
        }

        public void apply() {
            log.i("soul apply");
        }

        public void onDeactivate() {
            log.i("soul deactivate")
        }
    }
    ```

* Clientï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼š
  
    ```java
    public static void main(String[] args) {
        Sword enchantedSword = new Sword(new SoulEatingEnchantment());
        enchantedSword.wield();
        enchantedSword.swing();
        enchantedSword.unwield();

        Hammer hammer = new Hammer(new FlyingEnchantment());
        hammer.wield();
        hammer.swing();
        hammer.unwield();
    }
    ```

## æ¡¥æ¥æ¨¡å¼æ€»ç»“

åœ¨è½¯ä»¶å¼€å‘ä¸­å¦‚æœä¸€ä¸ªç±»æˆ–ä¸€ä¸ªç³»ç»Ÿæœ‰å¤šä¸ªå˜åŒ–ç»´åº¦æ—¶ï¼Œéƒ½å¯ä»¥å°è¯•ä½¿ç”¨æ¡¥æ¥æ¨¡å¼å¯¹å…¶è¿›è¡Œè®¾è®¡ã€‚æ¡¥æ¥æ¨¡å¼ä¸ºå¤šç»´åº¦å˜åŒ–çš„ç³»ç»Ÿæä¾›äº†ä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸”é™ä½äº†ç³»ç»Ÿçš„å¤æ‚åº¦

ä½¿ç”¨æ¡¥æ¥æ¨¡å¼æ—¶ï¼Œé¦–å…ˆåº”è¯¥è¯†åˆ«å‡ºä¸€ä¸ªç±»æ‰€å…·æœ‰çš„ä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦ï¼Œå°†å®ƒä»¬è®¾è®¡ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„ç»§æ‰¿ç­‰çº§ç»“æ„ï¼Œä¸ºä¸¤ä¸ªç»´åº¦éƒ½æä¾›æŠ½è±¡å±‚ï¼Œä¸ºä¸¤ä¸ªç»´åº¦éƒ½æä¾›æŠ½è±¡å±‚ï¼Œå¹¶å»ºç«‹æŠ½è±¡è€¦åˆ

* æ„å›¾ï¼šå°†æŠ½è±¡éƒ¨åˆ†ä¸å®ƒçš„å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚
 (å…¶å®å°±æ˜¯ï¼Œå­ç±»æœ‰ä¸¤ä¸ªç»´åº¦çš„æ’åˆ—ç»„åˆ ç”¨æ¡¥æ¥æ¨¡å¼)
  è„±è€¦ï¼šè„±è€¦å°±æ˜¯å°†æŠ½è±¡åŒ–å’Œå®ç°åŒ–ä¹‹é—´çš„è€¦åˆè§£è„±å¼€ï¼Œæˆ–è€…è¯´æ˜¯å°†å®ƒä»¬ä¹‹é—´çš„å¼ºå…³è”æ¢æˆå¼±å…³è”ï¼Œå°†ä¸¤ä¸ªè§’è‰²ä¹‹é—´çš„ç»§æ‰¿å…³ç³»
  æ”¹ä¸ºå…³è”å…³ç³»ã€‚æ¡¥æ¥æ¨¡å¼ä¸­æ‰€è°“çš„è„±è€¦ï¼Œå°±æ˜¯æŒ‡ä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿçš„æŠ½è±¡åŒ–å’Œå®ç°åŒ–ä¹‹é—´ä½¿ç”¨å…³è”å…³ç³»è€Œä¸æ˜¯ç»§æ‰¿å…³ç³»ã€‚

### æ¡¥æ¥æ¨¡å¼ä¼˜ç‚¹

* åˆ†ç¦»æŠ½è±¡æ¥å£åŠå…¶å®ç°éƒ¨åˆ†
* æ¡¥æ¥æ¨¡å¼æœ‰æ—¶ç±»ä¼¼äºå¤šç»§æ‰¿æ–¹æ¡ˆï¼Œä½†æ˜¯å¤šç»§æ‰¿æ–¹æ¡ˆè¿èƒŒäº†ç±»çš„å•ä¸€èŒè´£åŸåˆ™ï¼Œå¤ç”¨æ€§è¾ƒå·®ï¼Œè€Œä¸”å¤šç»§æ‰¿ç»“æ„ä¸­ç±»çš„ä¸ªæ•°éå¸¸åºå¤§ï¼Œæ¡¥æ¥æ¨¡å¼æ˜¯æ¯”å¤šç»§æ‰¿æ–¹æ¡ˆæ›´å¥½çš„è§£å†³æ–¹æ³•ã€‚
* æ¡¥æ¥æ¨¡å¼æé«˜äº†ç³»ç»Ÿçš„å¯æ‰©å……æ€§ï¼Œåœ¨ä¸¤ä¸ªå˜åŒ–å”¯ç‹¬ä¸­ä»»æ„æ‰©å±•ä¸€ä¸ªç»´åº¦ï¼Œéƒ½ä¸éœ€è¦ä¿®æ”¹åŸæœ‰ç³»ç»Ÿã€‚
* å®ç°ç»†èŠ‚å¯¹å®¢æˆ·é€æ˜ï¼Œå¯ä»¥å¯¹ç”¨æˆ·éšè—å®ç°ç»†èŠ‚

### æ¡¥æ¥æ¨¡å¼ç¼ºç‚¹

* æ¡¥æ¥æ¨¡å¼å¼•å…¥ä¼šå¢åŠ ç³»ç»Ÿçš„ç†è§£å’Œè®¾è®¡éš¾åº¦ï¼Œç”±äºèšåˆå…³è”å…³ç³»å»ºç«‹åœ¨æŠ½è±¡å±‚ï¼Œè¦æ±‚å¼€å‘è€…é’ˆå¯¹æŠ½è±¡è¿›è¡Œè®¾è®¡å’Œç¼–ç¨‹
* æ¡¥æ¥æ¨¡å¼è¦æ±‚æ­£ç¡®è¯†åˆ«å‡ºç³»ç»Ÿä¸­ä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦ï¼Œå› æ­¤å…¶ä½¿ç”¨èŒƒå›´æœ‰ä¸€å®šçš„å±€é™

### æ¡¥æ¥æ¨¡å¼é€‚ç”¨åœºæ™¯

* å¦‚æœä¸€ä¸ªç³»ç»Ÿéœ€è¦åœ¨æŠ½è±¡åŒ–å’Œå…·ä½“åŒ–ä¹‹é—´å¢åŠ æ›´å¤šçš„çµæ´»æ€§ï¼Œé¿å…åœ¨ä¸¤ä¸ªå±‚æ¬¡ä¹‹é—´å»ºç«‹é™æ€çš„ç»§æ‰¿å…³ç³»ï¼Œé€šè¿‡æ¡¥æ¥æ¨¡å¼å¯ä»¥ä½¿å®ƒä»¬åœ¨æŠ½è±¡å±‚å»ºç«‹ä¸€ä¸ªå…³è”å…³ç³»ã€‚
* æŠ½è±¡éƒ¨åˆ†å’Œå®ç°éƒ¨åˆ†å¯ä»¥ä»¥ç»§æ‰¿æ–¹å¼ç‹¬ç«‹æ‰©å±•è€Œäº’ä¸å½±å“ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶å¯ä»¥åŠ¨æ€å°†ä¸€ä¸ªæŠ½è±¡åŒ–å­ç±»çš„å¯¹è±¡å’Œä¸€ä¸ªå®ç°åŒ–å­ç±»çš„å¯¹è±¡è¿›è¡Œç»„åˆã€‚
* ä¸€ä¸ªç±»å­˜åœ¨ä¸¤ä¸ªï¼ˆæˆ–è€…å¤šä¸ªï¼‰ä¸åŒå˜åŒ–çš„ç»´åº¦ï¼Œä¸”è¿™ä¸¤ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰ç»´åº¦éƒ½éœ€è¦ç‹¬ç«‹è¿›è¡Œæ‰©å±•ã€‚
* å¯¹é‚£äº›ä¸å¸Œæœ›ä½¿ç”¨ç»§æ‰¿æˆ–å› ä¸ºå¤šå±‚ç»§æ‰¿å¯¼è‡´ç³»ç»Ÿç±»çš„ä¸ªæ•°æ€¥å‰§å¢åŠ çš„ç³»ç»Ÿï¼Œæ¡¥æ¥æ¨¡å¼å°¤ä¸ºé€‚ç”¨
